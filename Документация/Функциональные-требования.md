# Функциональные требования

## 1. Модуль аутентификации (AUTH)
### FR-AUTH-001: Регистрация нового пользователя
**Описание:** Пользователь может создать новый аккаунт, указав email и пароль
**Критерии приемки:**
1. Email должен быть уникальным и соответствовать формату email
2. Пароль должен содержать минимум 8 символов
3. После успешной регистрации отправляется email подтверждения
4. Без подтверждения email вход в систему невозможен

### FR-AUTH-002: Вход в систему
**Описание:** Зарегистрированный пользователь может войти в систему
**Критерии приемки:**
1. Пользователь вводит email и пароль
2. Система проверяет совпадение с данными в БД
3. При успешной проверке создается сессия и JWT-токен
4. При неудачной попытке показывается понятное сообщение об ошибке

## 2. Модуль управления чатами (CHAT)
### FR-CHAT-001: Создание личного чата
**Описание:** Пользователь может начать личную переписку с другим пользователем
**Критерии приемки:**
1. Пользователь выбирает контакт из списка
2. Если чат уже существует, открывается существующий
3. Если чата нет, создается новый с типом "личный"
4. Оба участника получают уведомление о создании чата

### FR-CHAT-002: Создание группового чата
**Описание:** Пользователь может создать групповой чат с несколькими участниками
**Критерии приемки:**
1. Пользователь указывает название группы
2. Выбирает минимум 2 участника из списка контактов
3. Создатель становится администратором группы
4. Все участники получают приглашение в чат

## 3. Модуль сообщений (MESSAGE)
### FR-MSG-001: Отправка текстового сообщения
**Описание:** Пользователь может отправить текстовое сообщение в чат
**Критерии приемки:**
1. Пользователь вводит текст в поле ввода
2. Нажимает кнопку "Отправить" или клавишу Enter
3. Сообщение сохраняется в БД
4. Все участники чата получают сообщение в реальном времени
5. Статус сообщения меняется с "отправлено" на "доставлено"

### FR-MSG-002: Отправка файла
**Описание:** Пользователь может прикрепить файл к сообщению
**Критерии приемки:**
1. Пользователь нажимает кнопку "Прикрепить файл"
2. Выбирает файл с устройства (макс. 50 МБ)
3. Видит прогресс загрузки
4. После загрузки файл отображается как часть сообщения
5. Другие участники могут скачать файл

## 4. Модуль безопасности (SECURITY)
### FR-SEC-001: End-to-end шифрование
**Описание:** Сообщения в личных чатах шифруются на устройстве отправителя и расшифровываются на устройстве получателя
**Критерии приемки:**
1. При первом обмене сообщениями происходит обмен криптографическими ключами
2. Ключи хранятся только на устройствах пользователей
3. Сервер не имеет доступа к расшифрованному содержимому
4. В интерфейсе отображается индикатор состояния шифрования

