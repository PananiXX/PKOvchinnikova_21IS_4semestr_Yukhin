# Business Requirements Document (BRD) - Система управления портфолио

## 1. Введение

### 1.1. Назначение документа
Настоящий документ содержит бизнес-требования к системе управления портфолио, предназначенной для организации, хранения и анализа записей о научных, исследовательских и проектных работах.

### 1.2. Область действия
Документ описывает функциональные и нефункциональные требования к системе, охватывающие все аспекты работы с портфолио от создания записей до формирования аналитических отчетов.

### 1.3. Цели проекта
- Создание централизованной системы для управления портфолио
- Автоматизация процессов создания, редактирования и анализа записей
- Обеспечение возможности коллективной работы над записями
- Снижение временных затрат на формирование отчетов
- Повышение качества аналитики по портфолио

## 2. Общее описание

### 2.1. Бизнес-контекст
Система предназначена для использования в научных, образовательных и исследовательских организациях, где необходимо систематизировать и анализировать портфолио работ сотрудников и подразделений.

### 2.2. Пользователи системы
- **Исследователи/Авторы** - создают и управляют своими записями
- **Руководители проектов** - отслеживают активность и результаты работы команды
- **Администраторы** - управляют системой и формируют отчеты
- **Аналитики** - работают со статистикой и аналитикой портфолио

### 2.3. Бизнес-процессы
1. Управление жизненным циклом записей портфолио
2. Коллективная работа над записями
3. Анализ и мониторинг активности
4. Формирование отчетности

## 3. Функциональные требования

### 3.1. Управление записями портфолио

#### 3.1.1. Создание записи
**Требование FR-001:** Система должна предоставлять возможность создания новых записей портфолио с указанием:
- Названия записи (обязательное поле)
- Типа записи (статья, книга, доклад, патент, проект, исследование и др.)
- Года создания (валидация: 2000-2030)
- Описания в формате Markdown

**Требование FR-002:** При создании записи система должна:
- Автоматически генерировать файл с описанием
- Присваивать уникальный идентификатор
- Фиксировать дату и время создания
- Записывать действие в журнал активности

#### 3.1.2. Редактирование записи
**Требование FR-003:** Пользователь должен иметь возможность редактировать все атрибуты существующей записи:
- Изменение названия, типа, года
- Редактирование описания в Markdown-формате
- Автоматическое обновление даты модификации

#### 3.1.3. Удаление записи
**Требование FR-004:** Система должна предоставлять возможность удаления записей с:
- Подтверждением операции удаления
- Удалением связанных файлов
- Сохранением информации об удалении в журнале активности

#### 3.1.4. Просмотр и поиск записей
**Требование FR-005:** Система должна отображать список всех записей с возможностями:
- Сортировки по всем колонкам (название, тип, год, дата создания)
- Поиска по названию и содержанию
- Пагинации при большом количестве записей

### 3.2. Управление соавторами

#### 3.2.1. Добавление соавторов
**Требование FR-006:** Для каждой записи система должна позволять:
- Добавлять одного или нескольких соавторов
- Управлять списком соавторов отдельно от основного содержания записи
- Исключать дублирование соавторов в рамках одной записи

#### 3.2.2. Удаление соавторов
**Требование FR-007:** Система должна предоставлять возможность удаления соавторов с подтверждением операции.

#### 3.2.3. Просмотр соавторов
**Требование FR-008:** Текущие соавторы записи должны отображаться в наглядной форме с переносом строк при необходимости.

### 3.3. Редактирование описаний

#### 3.3.1. Markdown-редактор
**Требование FR-009:** Система должна предоставлять текстовый редактор с поддержкой синтаксиса Markdown и подсказками для:
- Цитат (`> текст`)
- Вставки кода (три обратные кавычки)
- Гиперссылок (`[текст](url)`)
- Заголовков (`# Заголовок`, `## Подзаголовок`)
- Списков (`- элемент`, `1. элемент`)

#### 3.3.2. Предпросмотр
**Требование FR-010:** Пользователь должен иметь возможность просматривать отформатированное описание в браузере с автоматическим преобразованием Markdown в HTML.

### 3.4. Экспорт данных

#### 3.4.1. Экспорт в Excel
**Требование FR-011:** Система должна позволять экспортировать все записи портфолио в формате Excel (.xlsx) со следующими данными:
- ID записи
- Название
- Тип
- Год
- Дата создания
- Краткое описание (первые 100 символов)

#### 3.4.2. Экспорт в Word
**Требование FR-012:** Для выбранной записи система должна генерировать Word-документ (.docx) содержащий:
- Полное название записи
- Все метаданные (тип, год, дата создания, соавторы)
- Полное описание с базовым форматированием

### 3.5. Аналитика и отчетность

#### 3.5.1. Сбор статистики
**Требование FR-013:** Система должна автоматически собирать следующую статистику:
- Распределение записей по типам
- Распределение записей по годам
- Количество уникальных соавторов
- Активность за последние 12 месяцев (по месяцам)

#### 3.5.2. Формирование комплексного отчета
**Требование FR-014:** По команде пользователя система должна формировать комплексный отчет, состоящий из двух частей:

##### 3.5.2.1. Excel-отчет
**Требование FR-015:** Отчет в формате Excel должен содержать:
- Лист "Статистика" с таблицами собранных метрик
- Лист "Графики" с автоматически построенными столбчатыми диаграммами:
  - Количество публикаций по типам
  - Количество публикаций по годам

##### 3.5.2.2. Word-отчет
**Требование FR-016:** Отчет в формате Word должен содержать:
- Титульный лист с названием отчета и датой формирования
- Сводную таблицу ключевых показателей
- Встроенные изображения графиков (сохраненные как PNG)
- Список последних 5 записей с краткой информацией

#### 3.5.3. Визуализация данных
**Требование FR-017:** Система должна предоставлять графическое представление статистики:
- Столбчатые диаграммы распределения по типам и годам
- Графики активности по месяцам
- Круговые диаграммы для отображения долей

## 4. Нефункциональные требования

### 4.1. Требования к производительности

#### 4.1.1. Время отклика
**Требование NFR-001:** 
- Загрузка списка записей: не более 3 секунд при 1000+ записей
- Создание/редактирование записи: не более 2 секунд
- Формирование отчета: не более 30 секунд

#### 4.1.2. Емкость системы
**Требование NFR-002:** Система должна поддерживать:
- До 10 000 записей в портфолио
- До 100 параллельных пользователей
- Хранение файлов описаний общим объемом до 10 ГБ

### 4.2. Требования к надежности

#### 4.2.1. Доступность
**Требование NFR-003:** Система должна обеспечивать доступность 99% в рабочее время (Пн-Пт, 9:00-18:00).

#### 4.2.2. Резервное копирование
**Требование NFR-004:** Система должна автоматически создавать резервные копии базы данных и файлов каждые 24 часа.

#### 4.2.3. Отказоустойчивость
**Требование NFR-005:** При недоступности PostgreSQL система должна автоматически переключаться на SQLite базу данных.

### 4.3. Требования к совместимости

#### 4.3.1. Поддерживаемые операционные системы
**Требование NFR-006:** Система должна корректно работать на:
- Windows 10 и выше
- Linux (Ubuntu 20.04 и выше, CentOS 7 и выше)
- macOS 10.15 и выше

#### 4.3.2. Поддерживаемые базы данных
**Требование NFR-007:** Система должна поддерживать:
- PostgreSQL 12 и выше (основная база)
- SQLite 3 (резервная база)

#### 4.3.3. Форматы файлов
**Требование NFR-008:** Система должна поддерживать:
- Экспорт: .xlsx (Excel), .docx (Word)
- Хранение: .md (Markdown), .png (изображения графиков)

### 4.4. Требования к безопасности

#### 4.4.1. Защита данных
**Требование NFR-009:** Все SQL-запросы должны использовать параметризованные выражения для защиты от SQL-инъекций.

#### 4.4.2. Валидация входных данных
**Требование NFR-010:** Система должна проводить валидацию всех входных данных на стороне клиента и сервера.

### 4.5. Требования к удобству использования

#### 4.5.1. Пользовательский интерфейс
**Требование NFR-011:** Интерфейс должен быть интуитивно понятным и соответствовать принципам:
- Единообразие элементов управления
- Наглядная обратная связь при действиях
- Подсказки и справка в контексте

#### 4.5.2. Локализация
**Требование NFR-012:** Интерфейс должен поддерживать русский язык полностью.

#### 4.5.3. Доступность
**Требование NFR-013:** Интерфейс должен поддерживать:
- Управление с клавиатуры (основные операции)
- Читаемость шрифтов (минимальный размер 12pt)
- Достаточный контраст цветов

### 4.6. Требования к сопровождению

#### 4.6.1. Логирование
**Требование NFR-014:** Система должна вести детальный журнал активности, фиксирующий:
- Все операции создания, редактирования, удаления
- Добавление и удаление соавторов
- Формирование отчетов

#### 4.6.2. Мониторинг
**Требование NFR-015:** Система должна предоставлять базовую статистику использования:
- Количество активных пользователей
- Объем хранимых данных
- Частота операций

#### 4.6.3. Обработка ошибок
**Требование NFR-016:** Система должна корректно обрабатывать ошибки:
- Отсутствие файлов
- Недоступность базы данных
- Некорректные входные данные
- С выводом понятных сообщений пользователю

## 5. Требования к интерфейсу

### 5.1. Графический пользовательский интерфейс

#### 5.1.1. Основные компоненты
**Требование UI-001:** Интерфейс должен содержать следующие элементы:

1. **Панель управления:**
   - Поля ввода: "Название", "Тип записи", "Год"
   - Кнопки: "Создать", "Сохранить", "Удалить", "Открыть описание", "Экспорт в Excel", "Экспорт в Word"

2. **Список записей (Treeview):**
   - Колонки: Название, Тип, Год, Дата создания
   - Поддержка сортировки по любой колонке

3. **Область редактирования:**
   - Text-виджет для редактирования Markdown-описания
   - Подсказки по синтаксису

4. **Панель соавторов:**
   - Поле ввода для имени соавтора
   - Кнопка "Добавить соавтора"
   - Отображение текущих соавторов

5. **Вкладка "Аналитика и отчётность":**
   - Кнопка "Сформировать отчёт"
   - Графическое представление статистики

### 5.2. Форматирование отчетов

#### 5.2.1. Word-отчеты
**Требование UI-002:** Word-документы должны соответствовать стандартам делового документа:
- Шрифт: Times New Roman
- Размер шрифта: 12 пунктов
- Межстрочный интервал: 1.5
- Выравнивание по ширине
- Профессиональное оформление титульного листа

#### 5.2.2. Excel-отчеты
**Требование UI-003:** Excel-файлы должны содержать:
- Автоматически подогнанные ширины колонок
- Заголовки таблиц в жирном начертании
- Четкое разделение листов
- Качественные графики с подписями

## 6. Технические требования

### 6.1. Архитектура системы

#### 6.1.1. Клиент-серверная архитектура
**Требование TR-001:** Система должна быть построена по клиент-серверной модели:
- Клиентская часть: Python с использованием Tkinter
- Серверная часть: База данных (PostgreSQL/SQLite)

#### 6.1.2. Модульная структура
**Требование TR-002:** Код должен быть структурирован по модулям:
- Модуль работы с базой данных
- Модуль графического интерфейса
- Модуль экспорта данных
- Модуль аналитики и отчетности

### 6.2. Используемые технологии

#### 6.2.1. Основные библиотеки
**Требование TR-003:** Система должна использовать следующие библиотеки Python:
- `psycopg2` / `sqlite3` - работа с базами данных
- `tkinter` - графический интерфейс
- `matplotlib` - создание графиков
- `openpyxl` - работа с Excel
- `python-docx` - генерация Word-документов
- `markdown` - преобразование Markdown в HTML
- `pandas` - обработка данных

### 6.3. Требования к развертыванию

#### 6.3.1. Минимальные системные требования
**Требование TR-004:** Для работы системы требуется:
- Python 3.8 или выше
- 2 ГБ оперативной памяти
- 1 ГБ свободного дискового пространства
- Разрешение экрана не менее 1280x720

#### 6.3.2. Установка зависимостей
**Требование TR-005:** Система должна предоставлять скрипт установки или четкие инструкции по установке всех необходимых зависимостей.

## 7. Бизнес-правила

### 7.1. Правила валидации

#### 7.1.1. Валидация данных
**Правило BR-001:** 
- Название записи: обязательно, длина 1-255 символов
- Тип записи: обязательно, выбор из предопределенного списка
- Год: обязательно, целое число в диапазоне 2000-2030
- Описание: необязательно, текст произвольной длины

#### 7.1.2. Бизнес-логика
**Правило BR-002:** 
- Одна запись может иметь неограниченное количество соавторов
- Соавторы должны быть уникальными в рамках одной записи
- Дата создания записи не может быть изменена вручную
- Дата обновления записи обновляется автоматически при любых изменениях

### 7.2. Правила формирования отчетов

#### 7.2.1. Статистика
**Правило BR-003:** При формировании статистики система должна:
- Группировать записи по типам и годам
- Учитывать только уникальных соавторов по всей системе
- Рассчитывать активность за последние 12 полных месяцев

#### 7.2.2. Отчеты
**Правило BR-004:** Отчеты должны формироваться:
- В отдельную директорию `reports/`
- С уникальными именами файлов
- С указанием даты и времени формирования

## 8. Ограничения

### 8.1. Технические ограничения

#### 8.1.1. Производительность
**Ограничение LC-001:** Формирование отчетов для более чем 5000 записей может потребовать дополнительной оптимизации.

#### 8.1.2. Память
**Ограничение LC-002:** Одновременная работа с большими графиками (более 1000 точек данных) может требовать значительных ресурсов памяти.

### 8.2. Функциональные ограничения

#### 8.2.1. Веб-доступ
**Ограничение LC-003:** Система не предоставляет веб-интерфейс, доступ только через десктопное приложение.

#### 8.2.2. Мобильные устройства
**Ограничение LC-004:** Система не оптимизирована для использования на мобильных устройствах.

#### 8.2.3. Авторизация
**Ограничение LC-005:** В текущей версии отсутствует система разграничения прав доступа.

## 9. Предположения и зависимости

### 9.1. Предположения

#### 9.1.1. Технические предположения
**Предположение AS-001:** 
- Пользователи имеют базовые навыки работы с компьютером
- Система будет использоваться в защищенной внутренней сети
- Резервное копирование данных осуществляется на уровне организации

#### 9.1.2. Бизнес-предположения
**Предположение AS-002:**
- Среднее количество записей на пользователя: 20-50
- Среднее количество соавторов на запись: 1-3
- Отчеты формируются ежемесячно или ежеквартально

### 9.2. Зависимости

#### 9.2.1. Внешние зависимости
**Зависимость DE-001:** Система зависит от:
- Наличия установленного Python 3.8+
- Доступности библиотек, указанных в разделе 6.2.1
- Доступности PostgreSQL (опционально) или возможности использования SQLite

#### 9.2.2. Внутренние зависимости
**Зависимость DE-002:** Функции системы зависят от:
- Корректной работы базы данных
- Доступности файловой системы для записи файлов
- Наличия необходимых разрешений для создания директорий и файлов

## 10. Глоссарий

| Термин | Определение |
|--------|-------------|
| Запись портфолио | Основная единица хранения информации в системе: статья, книга, доклад, патент и т.д. |
| Соавтор | Дополнительный автор, связанный с записью, но не являющийся основным создателем |
| Markdown | Упрощенный язык разметки для форматирования текста |
| Treeview | Элемент графического интерфейса для отображения данных в виде таблицы с возможностью сортировки |
| PostgreSQL | Объектно-реляционная система управления базами данных |
| SQLite | Встраиваемая реляционная система управления базами данных |
| Экспорт | Процесс вывода данных из системы во внешние форматы (Excel, Word) |
| Отчетность | Процесс формирования структурированных документов на основе данных системы |

## 11. История изменений

| Версия | Дата | Автор | Описание изменений |
|--------|------|-------|-------------------|
| 1.0 | 2024-01-28 | Business Analyst | Первоначальная версия документа |
| 1.1 | 2024-01-28 | Технический специалист | Добавлены технические требования и ограничения |

---

**Утверждение:**

| Роль | Имя | Подпись | Дата |
|------|-----|---------|------|
| Заказчик | | | |
| Руководитель проекта | | | |
| Технический руководитель | | | |
| Бизнес-аналитик | | | |
